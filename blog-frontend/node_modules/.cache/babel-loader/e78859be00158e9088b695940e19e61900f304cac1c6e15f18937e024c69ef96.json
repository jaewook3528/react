{"ast":null,"code":"import _defineProperty from\"C:/react/git/react/blog-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/react/git/react/blog-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/react/git/react/blog-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _slicedToArray from\"C:/react/git/react/blog-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _handleActions;var _marked=/*#__PURE__*/_regeneratorRuntime().mark(postSaga);import{createAction,handleActions}from'redux-actions';import createRequestSaga,{createRequestActionTypes}from'../lib/createRequestSaga';import*as postsAPI from'../lib/api/posts';import{takeLatest}from'redux-saga/effects';var _createRequestActionT=createRequestActionTypes('post/READ_POST'),_createRequestActionT2=_slicedToArray(_createRequestActionT,3),READ_POST=_createRequestActionT2[0],READ_POST_SUCCESS=_createRequestActionT2[1],READ_POST_FAILURE=_createRequestActionT2[2];var UNLOAD_POST='post/UNLOAD_POST';// 포스트 페이지에서 벗어날 때 데이터 비우기\nexport var readPost=createAction(READ_POST,function(id){return id;});export var unloadPost=createAction(UNLOAD_POST);var readPostSaga=createRequestSaga(READ_POST,postsAPI.readPost);export function postSaga(){return _regeneratorRuntime().wrap(function postSaga$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return takeLatest(READ_POST,readPostSaga);case 2:case\"end\":return _context.stop();}},_marked);}var initialState={post:null,error:null};var post=handleActions((_handleActions={},_defineProperty(_handleActions,READ_POST_SUCCESS,function(state,_ref){var post=_ref.payload;return _objectSpread(_objectSpread({},state),{},{post:post});}),_defineProperty(_handleActions,READ_POST_FAILURE,function(state,_ref2){var error=_ref2.payload;return _objectSpread(_objectSpread({},state),{},{error:error});}),_defineProperty(_handleActions,UNLOAD_POST,function(){return initialState;}),_handleActions),initialState);export default post;","map":{"version":3,"names":["postSaga","createAction","handleActions","createRequestSaga","createRequestActionTypes","postsAPI","takeLatest","_createRequestActionT","_createRequestActionT2","_slicedToArray","READ_POST","READ_POST_SUCCESS","READ_POST_FAILURE","UNLOAD_POST","readPost","id","unloadPost","readPostSaga","_regeneratorRuntime","wrap","postSaga$","_context","prev","next","stop","_marked","initialState","post","error","_handleActions","_defineProperty","state","_ref","payload","_objectSpread","_ref2"],"sources":["C:/react/git/react/blog-frontend/src/modules/post.js"],"sourcesContent":["import { createAction, handleActions } from 'redux-actions';\r\nimport createRequestSaga, {\r\n  createRequestActionTypes,\r\n} from '../lib/createRequestSaga';\r\nimport * as postsAPI from '../lib/api/posts';\r\nimport { takeLatest } from 'redux-saga/effects';\r\n\r\nconst [\r\n  READ_POST,\r\n  READ_POST_SUCCESS,\r\n  READ_POST_FAILURE,\r\n] = createRequestActionTypes('post/READ_POST');\r\nconst UNLOAD_POST = 'post/UNLOAD_POST'; // 포스트 페이지에서 벗어날 때 데이터 비우기\r\n\r\nexport const readPost = createAction(READ_POST, id => id);\r\nexport const unloadPost = createAction(UNLOAD_POST);\r\n\r\nconst readPostSaga = createRequestSaga(READ_POST, postsAPI.readPost);\r\nexport function* postSaga() {\r\n  yield takeLatest(READ_POST, readPostSaga);\r\n}\r\n\r\nconst initialState = {\r\n  post: null,\r\n  error: null,\r\n};\r\n\r\nconst post = handleActions(\r\n  {\r\n    [READ_POST_SUCCESS]: (state, { payload: post }) => ({\r\n      ...state,\r\n      post,\r\n    }),\r\n    [READ_POST_FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      error,\r\n    }),\r\n    [UNLOAD_POST]: () => initialState,\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default post;"],"mappings":"0iBAkBiBA,QAAQ,EAlBzB,OAASC,YAAY,CAAEC,aAAa,KAAQ,eAAe,CAC3D,MAAO,CAAAC,iBAAiB,EACtBC,wBAAwB,KACnB,0BAA0B,CACjC,MAAO,GAAK,CAAAC,QAAQ,KAAM,kBAAkB,CAC5C,OAASC,UAAU,KAAQ,oBAAoB,CAE/C,IAAAC,qBAAA,CAIIH,wBAAwB,CAAC,gBAAgB,CAAC,CAAAI,sBAAA,CAAAC,cAAA,CAAAF,qBAAA,IAH5CG,SAAS,CAAAF,sBAAA,IACTG,iBAAiB,CAAAH,sBAAA,IACjBI,iBAAiB,CAAAJ,sBAAA,IAEnB,GAAM,CAAAK,WAAW,CAAG,kBAAkB,CAAE;AAExC,MAAO,IAAM,CAAAC,QAAQ,CAAGb,YAAY,CAACS,SAAS,CAAE,SAAAK,EAAE,QAAI,CAAAA,EAAE,GAAC,CACzD,MAAO,IAAM,CAAAC,UAAU,CAAGf,YAAY,CAACY,WAAW,CAAC,CAEnD,GAAM,CAAAI,YAAY,CAAGd,iBAAiB,CAACO,SAAS,CAAEL,QAAQ,CAACS,QAAQ,CAAC,CACpE,MAAO,SAAU,CAAAd,QAAQA,CAAA,SAAAkB,mBAAA,GAAAC,IAAA,UAAAC,UAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,GACvB,MAAM,CAAAjB,UAAU,CAACI,SAAS,CAAEO,YAAY,CAAC,yBAAAI,QAAA,CAAAG,IAAA,MAAAC,OAAA,GAG3C,GAAM,CAAAC,YAAY,CAAG,CACnBC,IAAI,CAAE,IAAI,CACVC,KAAK,CAAE,IACT,CAAC,CAED,GAAM,CAAAD,IAAI,CAAGzB,aAAa,EAAA2B,cAAA,IAAAC,eAAA,CAAAD,cAAA,CAErBlB,iBAAiB,CAAG,SAACoB,KAAK,CAAAC,IAAA,KAAa,CAAAL,IAAI,CAAAK,IAAA,CAAbC,OAAO,QAAAC,aAAA,CAAAA,aAAA,IACjCH,KAAK,MACRJ,IAAI,CAAJA,IAAI,IACJ,EAAAG,eAAA,CAAAD,cAAA,CACDjB,iBAAiB,CAAG,SAACmB,KAAK,CAAAI,KAAA,KAAa,CAAAP,KAAK,CAAAO,KAAA,CAAdF,OAAO,QAAAC,aAAA,CAAAA,aAAA,IACjCH,KAAK,MACRH,KAAK,CAALA,KAAK,IACL,EAAAE,eAAA,CAAAD,cAAA,CACDhB,WAAW,CAAG,iBAAM,CAAAa,YAAY,IAAAG,cAAA,EAEnCH,YAAY,CACb,CAED,cAAe,CAAAC,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}