{"ast":null,"code":"import { createAction, handleActions } from 'redux-actions';\nimport createRequestSaga, { createRequestActionTypes } from '../lib/createRequestSaga';\nimport * as postsAPI from '../lib/api/posts';\nimport { takeLatest } from 'redux-saga/effects';\nconst [READ_POST, READ_POST_SUCCESS, READ_POST_FAILURE] = createRequestActionTypes('post/READ_POST');\nconst [LIST_COMMENTS, LIST_COMMENTS_SUCCESS, LIST_COMMENTS_FAILURE] = createRequestActionTypes('post/LIST_COMMENTS');\nconst UNLOAD_POST = 'post/UNLOAD_POST';\nexport const readPost = createAction(READ_POST, id => id);\nexport const listComments = createAction(LIST_COMMENTS, id => id);\nexport const unloadPost = createAction(UNLOAD_POST);\nconst readPostSaga = createRequestSaga(READ_POST, postsAPI.readPost);\nconst listCommentsSaga = createRequestSaga(LIST_COMMENTS, postsAPI.listComments);\nexport function* postSaga() {\n  yield takeLatest(READ_POST, readPostSaga);\n  yield takeLatest(LIST_COMMENTS, listCommentsSaga);\n}\nconst initialState = {\n  post: null,\n  comments: null,\n  // 댓글 목록 추가\n  error: null\n};\nconst post = handleActions({\n  [READ_POST_SUCCESS]: (state, _ref) => {\n    let {\n      payload: post\n    } = _ref;\n    return {\n      ...state,\n      post\n    };\n  },\n  [READ_POST_FAILURE]: (state, _ref2) => {\n    let {\n      payload: error\n    } = _ref2;\n    return {\n      ...state,\n      error\n    };\n  },\n  [LIST_COMMENTS_SUCCESS]: (state, _ref3) => {\n    let {\n      payload: comments\n    } = _ref3;\n    return {\n      ...state,\n      comments\n    };\n  },\n  [LIST_COMMENTS_FAILURE]: (state, _ref4) => {\n    let {\n      payload: error\n    } = _ref4;\n    return {\n      ...state,\n      error\n    };\n  },\n  [UNLOAD_POST]: () => initialState\n}, initialState);\nexport default post;","map":{"version":3,"names":["createAction","handleActions","createRequestSaga","createRequestActionTypes","postsAPI","takeLatest","READ_POST","READ_POST_SUCCESS","READ_POST_FAILURE","LIST_COMMENTS","LIST_COMMENTS_SUCCESS","LIST_COMMENTS_FAILURE","UNLOAD_POST","readPost","id","listComments","unloadPost","readPostSaga","listCommentsSaga","postSaga","initialState","post","comments","error","state","_ref","payload","_ref2","_ref3","_ref4"],"sources":["C:/react/git/react/blog-frontend/src/modules/post.js"],"sourcesContent":["import { createAction, handleActions } from 'redux-actions';\r\nimport createRequestSaga, {\r\n  createRequestActionTypes,\r\n} from '../lib/createRequestSaga';\r\nimport * as postsAPI from '../lib/api/posts';\r\nimport { takeLatest } from 'redux-saga/effects';\r\n\r\nconst [\r\n  READ_POST,\r\n  READ_POST_SUCCESS,\r\n  READ_POST_FAILURE,\r\n] = createRequestActionTypes('post/READ_POST');\r\nconst [\r\n  LIST_COMMENTS,\r\n  LIST_COMMENTS_SUCCESS,\r\n  LIST_COMMENTS_FAILURE,\r\n] = createRequestActionTypes('post/LIST_COMMENTS');\r\nconst UNLOAD_POST = 'post/UNLOAD_POST';\r\n\r\nexport const readPost = createAction(READ_POST, id => id);\r\nexport const listComments = createAction(LIST_COMMENTS, id => id);\r\nexport const unloadPost = createAction(UNLOAD_POST);\r\n\r\nconst readPostSaga = createRequestSaga(READ_POST, postsAPI.readPost);\r\nconst listCommentsSaga = createRequestSaga(LIST_COMMENTS, postsAPI.listComments);\r\n\r\nexport function* postSaga() {\r\n  yield takeLatest(READ_POST, readPostSaga);\r\n  yield takeLatest(LIST_COMMENTS, listCommentsSaga);\r\n}\r\n\r\nconst initialState = {\r\n  post: null,\r\n  comments: null, // 댓글 목록 추가\r\n  error: null,\r\n};\r\n\r\nconst post = handleActions(\r\n  {\r\n    [READ_POST_SUCCESS]: (state, { payload: post }) => ({\r\n      ...state,\r\n      post,\r\n    }),\r\n    [READ_POST_FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      error,\r\n    }),\r\n    [LIST_COMMENTS_SUCCESS]: (state, { payload: comments }) => ({\r\n      ...state,\r\n      comments,\r\n    }),\r\n    [LIST_COMMENTS_FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      error,\r\n    }),\r\n    [UNLOAD_POST]: () => initialState,\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default post;"],"mappings":"AAAA,SAASA,YAAY,EAAEC,aAAa,QAAQ,eAAe;AAC3D,OAAOC,iBAAiB,IACtBC,wBAAwB,QACnB,0BAA0B;AACjC,OAAO,KAAKC,QAAQ,MAAM,kBAAkB;AAC5C,SAASC,UAAU,QAAQ,oBAAoB;AAE/C,MAAM,CACJC,SAAS,EACTC,iBAAiB,EACjBC,iBAAiB,CAClB,GAAGL,wBAAwB,CAAC,gBAAgB,CAAC;AAC9C,MAAM,CACJM,aAAa,EACbC,qBAAqB,EACrBC,qBAAqB,CACtB,GAAGR,wBAAwB,CAAC,oBAAoB,CAAC;AAClD,MAAMS,WAAW,GAAG,kBAAkB;AAEtC,OAAO,MAAMC,QAAQ,GAAGb,YAAY,CAACM,SAAS,EAAEQ,EAAE,IAAIA,EAAE,CAAC;AACzD,OAAO,MAAMC,YAAY,GAAGf,YAAY,CAACS,aAAa,EAAEK,EAAE,IAAIA,EAAE,CAAC;AACjE,OAAO,MAAME,UAAU,GAAGhB,YAAY,CAACY,WAAW,CAAC;AAEnD,MAAMK,YAAY,GAAGf,iBAAiB,CAACI,SAAS,EAAEF,QAAQ,CAACS,QAAQ,CAAC;AACpE,MAAMK,gBAAgB,GAAGhB,iBAAiB,CAACO,aAAa,EAAEL,QAAQ,CAACW,YAAY,CAAC;AAEhF,OAAO,UAAUI,QAAQA,CAAA,EAAG;EAC1B,MAAMd,UAAU,CAACC,SAAS,EAAEW,YAAY,CAAC;EACzC,MAAMZ,UAAU,CAACI,aAAa,EAAES,gBAAgB,CAAC;AACnD;AAEA,MAAME,YAAY,GAAG;EACnBC,IAAI,EAAE,IAAI;EACVC,QAAQ,EAAE,IAAI;EAAE;EAChBC,KAAK,EAAE;AACT,CAAC;AAED,MAAMF,IAAI,GAAGpB,aAAa,CACxB;EACE,CAACM,iBAAiB,GAAG,CAACiB,KAAK,EAAAC,IAAA;IAAA,IAAE;MAAEC,OAAO,EAAEL;IAAK,CAAC,GAAAI,IAAA;IAAA,OAAM;MAClD,GAAGD,KAAK;MACRH;IACF,CAAC;EAAA,CAAC;EACF,CAACb,iBAAiB,GAAG,CAACgB,KAAK,EAAAG,KAAA;IAAA,IAAE;MAAED,OAAO,EAAEH;IAAM,CAAC,GAAAI,KAAA;IAAA,OAAM;MACnD,GAAGH,KAAK;MACRD;IACF,CAAC;EAAA,CAAC;EACF,CAACb,qBAAqB,GAAG,CAACc,KAAK,EAAAI,KAAA;IAAA,IAAE;MAAEF,OAAO,EAAEJ;IAAS,CAAC,GAAAM,KAAA;IAAA,OAAM;MAC1D,GAAGJ,KAAK;MACRF;IACF,CAAC;EAAA,CAAC;EACF,CAACX,qBAAqB,GAAG,CAACa,KAAK,EAAAK,KAAA;IAAA,IAAE;MAAEH,OAAO,EAAEH;IAAM,CAAC,GAAAM,KAAA;IAAA,OAAM;MACvD,GAAGL,KAAK;MACRD;IACF,CAAC;EAAA,CAAC;EACF,CAACX,WAAW,GAAG,MAAMQ;AACvB,CAAC,EACDA,YAAY,CACb;AAED,eAAeC,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}