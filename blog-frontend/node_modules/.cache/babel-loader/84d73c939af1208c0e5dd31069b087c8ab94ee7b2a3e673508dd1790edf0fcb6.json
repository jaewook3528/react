{"ast":null,"code":"import _regeneratorRuntime from\"C:/react/git/react/blog-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import{call,put}from'redux-saga/effects';import{startLoading,finishLoading}from'../modules/loading';export var createRequestActionTypes=function createRequestActionTypes(type){var SUCCESS=\"\".concat(type,\"_SUCCESS\");var FAILURE=\"\".concat(type,\"_FAILURE\");return[type,SUCCESS,FAILURE];};export default function createRequestSaga(type,request){var SUCCESS=\"\".concat(type,\"_SUCCESS\");var FAILURE=\"\".concat(type,\"_FAILURE\");return/*#__PURE__*/_regeneratorRuntime().mark(function _callee(action){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return put(startLoading(type));case 2:_context.prev=2;_context.next=5;return call(request,action.payload);case 5:response=_context.sent;_context.next=8;return put({type:SUCCESS,payload:response.data,meta:response});case 8:_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);_context.next=14;return put({type:FAILURE,payload:_context.t0,error:true});case 14:_context.next=16;return put(finishLoading(type));case 16:case\"end\":return _context.stop();}},_callee,null,[[2,10]]);});}","map":{"version":3,"names":["call","put","startLoading","finishLoading","createRequestActionTypes","type","SUCCESS","concat","FAILURE","createRequestSaga","request","_regeneratorRuntime","mark","_callee","action","response","wrap","_callee$","_context","prev","next","payload","sent","data","meta","t0","error","stop"],"sources":["C:/react/git/react/blog-frontend/src/lib/createRequestSaga.js"],"sourcesContent":["import { call, put } from 'redux-saga/effects';\r\nimport { startLoading, finishLoading } from '../modules/loading';\r\n\r\nexport const createRequestActionTypes = type => {\r\n    const SUCCESS = `${type}_SUCCESS`;\r\n    const FAILURE = `${type}_FAILURE`;\r\n    return [type, SUCCESS, FAILURE];\r\n};\r\n\r\nexport default function createRequestSaga(type, request) {\r\n    const SUCCESS = `${type}_SUCCESS`;\r\n    const FAILURE = `${type}_FAILURE`;\r\n  \r\n    return function*(action) {\r\n      yield put(startLoading(type)); // 로딩 시작\r\n      try {\r\n        const response = yield call(request, action.payload);\r\n        yield put({\r\n          type: SUCCESS,\r\n          payload: response.data,\r\n          meta: response,\r\n        });\r\n      } catch (e) {\r\n        yield put({\r\n          type: FAILURE,\r\n          payload: e,\r\n          error: true,\r\n        });\r\n      }\r\n      yield put(finishLoading(type)); // 로딩 끝\r\n    };\r\n}"],"mappings":"gIAAA,OAASA,IAAI,CAAEC,GAAG,KAAQ,oBAAoB,CAC9C,OAASC,YAAY,CAAEC,aAAa,KAAQ,oBAAoB,CAEhE,MAAO,IAAM,CAAAC,wBAAwB,CAAG,QAA3B,CAAAA,wBAAwBA,CAAGC,IAAI,CAAI,CAC5C,GAAM,CAAAC,OAAO,IAAAC,MAAA,CAAMF,IAAI,YAAU,CACjC,GAAM,CAAAG,OAAO,IAAAD,MAAA,CAAMF,IAAI,YAAU,CACjC,MAAO,CAACA,IAAI,CAAEC,OAAO,CAAEE,OAAO,CAAC,CACnC,CAAC,CAED,cAAe,SAAS,CAAAC,iBAAiBA,CAACJ,IAAI,CAAEK,OAAO,CAAE,CACrD,GAAM,CAAAJ,OAAO,IAAAC,MAAA,CAAMF,IAAI,YAAU,CACjC,GAAM,CAAAG,OAAO,IAAAD,MAAA,CAAMF,IAAI,YAAU,CAEjC,mBAAAM,mBAAA,GAAAC,IAAA,CAAO,SAAAC,QAAUC,MAAM,MAAAC,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,GACrB,MAAM,CAAAnB,GAAG,CAACC,YAAY,CAACG,IAAI,CAAC,CAAC,QAAAa,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,GAEV,MAAM,CAAApB,IAAI,CAACU,OAAO,CAAEI,MAAM,CAACO,OAAO,CAAC,QAA9CN,QAAQ,CAAAG,QAAA,CAAAI,IAAA,CAAAJ,QAAA,CAAAE,IAAA,GACd,MAAM,CAAAnB,GAAG,CAAC,CACRI,IAAI,CAAEC,OAAO,CACbe,OAAO,CAAEN,QAAQ,CAACQ,IAAI,CACtBC,IAAI,CAAET,QACR,CAAC,CAAC,QAAAG,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAO,EAAA,CAAAP,QAAA,aAAAA,QAAA,CAAAE,IAAA,IAEF,MAAM,CAAAnB,GAAG,CAAC,CACRI,IAAI,CAAEG,OAAO,CACba,OAAO,CAAAH,QAAA,CAAAO,EAAG,CACVC,KAAK,CAAE,IACT,CAAC,CAAC,SAAAR,QAAA,CAAAE,IAAA,IAEJ,MAAM,CAAAnB,GAAG,CAACE,aAAa,CAACE,IAAI,CAAC,CAAC,0BAAAa,QAAA,CAAAS,IAAA,MAAAd,OAAA,iBAC/B,EACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}