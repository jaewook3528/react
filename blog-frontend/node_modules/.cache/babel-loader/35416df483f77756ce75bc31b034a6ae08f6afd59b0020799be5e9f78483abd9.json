{"ast":null,"code":"import React,{useEffect}from'react';import qs from'qs';import{withRouter}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import PostList from'../../components/posts/PostList';import{listPosts}from'../../modules/posts';var PostListContainer=function PostListContainer(_ref){var location=_ref.location;var dispatch=useDispatch();var _useSelector=useSelector(function(_ref2){var posts=_ref2.posts,loading=_ref2.loading,user=_ref2.user;return{posts:posts.posts,error:posts.error,loading:loading['posts/LIST_POSTS'],user:user.user};}),posts=_useSelector.posts,error=_useSelector.error,loading=_useSelector.loading,user=_useSelector.user;useEffect(function(){var _qs$parse=qs.parse(location.search,{ignoreQueryPrefix:true}),tag=_qs$parse.tag,username=_qs$parse.username,page=_qs$parse.page;dispatch(listPosts({tag:tag,username:username,page:page}));},[dispatch,location.search]);return/*#__PURE__*/React.createElement(PostList,{loading:loading,error:error,posts:posts,showWriteButton:user});};export default withRouter(PostListContainer);","map":{"version":3,"names":["React","useEffect","qs","withRouter","useDispatch","useSelector","PostList","listPosts","PostListContainer","_ref","location","dispatch","_useSelector","_ref2","posts","loading","user","error","_qs$parse","parse","search","ignoreQueryPrefix","tag","username","page","createElement","showWriteButton"],"sources":["C:/react/git/react/blog-frontend/src/containers/posts/PostListContainer.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport qs from 'qs';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport PostList from '../../components/posts/PostList';\r\nimport { listPosts } from '../../modules/posts';\r\n\r\nconst PostListContainer = ({ location }) => {\r\n  const dispatch = useDispatch();\r\n  const { posts, error, loading, user } = useSelector(\r\n    ({ posts, loading, user }) => ({\r\n      posts: posts.posts,\r\n      error: posts.error,\r\n      loading: loading['posts/LIST_POSTS'],\r\n      user: user.user,\r\n    }),\r\n  );\r\n  useEffect(() => {\r\n    const { tag, username, page } = qs.parse(location.search, {\r\n      ignoreQueryPrefix: true,\r\n    });\r\n    dispatch(listPosts({ tag, username, page }));\r\n  }, [dispatch, location.search]);\r\n\r\n  return (\r\n    <PostList\r\n      loading={loading}\r\n      error={error}\r\n      posts={posts}\r\n      showWriteButton={user}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(PostListContainer);"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,CAAAC,EAAE,KAAM,IAAI,CACnB,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,QAAQ,KAAM,iCAAiC,CACtD,OAASC,SAAS,KAAQ,qBAAqB,CAE/C,GAAM,CAAAC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACnC,GAAM,CAAAC,QAAQ,CAAGP,WAAW,EAAE,CAC9B,IAAAQ,YAAA,CAAwCP,WAAW,CACjD,SAAAQ,KAAA,KAAG,CAAAC,KAAK,CAAAD,KAAA,CAALC,KAAK,CAAEC,OAAO,CAAAF,KAAA,CAAPE,OAAO,CAAEC,IAAI,CAAAH,KAAA,CAAJG,IAAI,OAAQ,CAC7BF,KAAK,CAAEA,KAAK,CAACA,KAAK,CAClBG,KAAK,CAAEH,KAAK,CAACG,KAAK,CAClBF,OAAO,CAAEA,OAAO,CAAC,kBAAkB,CAAC,CACpCC,IAAI,CAAEA,IAAI,CAACA,IACb,CAAC,EAAC,CACH,CAPOF,KAAK,CAAAF,YAAA,CAALE,KAAK,CAAEG,KAAK,CAAAL,YAAA,CAALK,KAAK,CAAEF,OAAO,CAAAH,YAAA,CAAPG,OAAO,CAAEC,IAAI,CAAAJ,YAAA,CAAJI,IAAI,CAQnCf,SAAS,CAAC,UAAM,CACd,IAAAiB,SAAA,CAAgChB,EAAE,CAACiB,KAAK,CAACT,QAAQ,CAACU,MAAM,CAAE,CACxDC,iBAAiB,CAAE,IACrB,CAAC,CAAC,CAFMC,GAAG,CAAAJ,SAAA,CAAHI,GAAG,CAAEC,QAAQ,CAAAL,SAAA,CAARK,QAAQ,CAAEC,IAAI,CAAAN,SAAA,CAAJM,IAAI,CAG3Bb,QAAQ,CAACJ,SAAS,CAAC,CAAEe,GAAG,CAAHA,GAAG,CAAEC,QAAQ,CAARA,QAAQ,CAAEC,IAAI,CAAJA,IAAK,CAAC,CAAC,CAAC,CAC9C,CAAC,CAAE,CAACb,QAAQ,CAAED,QAAQ,CAACU,MAAM,CAAC,CAAC,CAE/B,mBACEpB,KAAA,CAAAyB,aAAA,CAACnB,QAAQ,EACPS,OAAO,CAAEA,OAAQ,CACjBE,KAAK,CAAEA,KAAM,CACbH,KAAK,CAAEA,KAAM,CACbY,eAAe,CAAEV,IAAK,EACtB,CAEN,CAAC,CAED,cAAe,CAAAb,UAAU,CAACK,iBAAiB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}