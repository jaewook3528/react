{"ast":null,"code":"var _jsxFileName = \"C:\\\\react\\\\git\\\\react\\\\blog-frontend\\\\src\\\\components\\\\post\\\\CommentForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport palette from '../../lib/styles/palette';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { writeComment } from '../../lib/api/posts';\nimport { listComments } from '../../modules/post';\nconst CommentFormBlock = styled.form`\n  h4 {\n    margin-bottom: 0.5rem;\n  }\n  textarea {\n    width: 100%;\n    padding: 1rem;\n    font-size: 1.125rem;\n    border: none;\n    border-bottom: 1px solid ${palette.gray[4]};\n    resize: none;\n    &:focus {\n      outline: none;\n      border-bottom: 1px solid ${palette.gray[6]};\n    }\n  }\n  button {\n    margin-top: 1rem;\n    float: right;\n  }\n`;\n_c = CommentFormBlock;\nconst CommentForm = _ref => {\n  _s();\n  let {\n    match,\n    history\n  } = _ref;\n  const [comment, setComment] = useState('');\n  const dispatch = useDispatch();\n  const {\n    user\n  } = useSelector(_ref2 => {\n    let {\n      user\n    } = _ref2;\n    return {\n      user: user.user\n    };\n  });\n  const {\n    postId\n  } = match.params;\n  const onSubmit = async e => {\n    e.preventDefault();\n    if (!user) {\n      history.push('/login');\n      return;\n    }\n    try {\n      console.log(comment);\n      await writeComment({\n        postId,\n        text: comment\n      });\n      setComment('');\n      dispatch(listComments(postId)); // 댓글 목록 불러오기\n      // TODO: 포스트 다시 불러오기\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  const onChange = e => {\n    setComment(e.target.value);\n  };\n  return /*#__PURE__*/React.createElement(CommentFormBlock, {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, \"\\uB313\\uAE00 \\uC4F0\\uAE30\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    value: comment,\n    onChange: onChange,\n    placeholder: \"\\uB313\\uAE00\\uC744 \\uC791\\uC131\\uD558\\uC138\\uC694.\",\n    rows: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, \"\\uB4F1\\uB85D\"));\n};\n_s(CommentForm, \"AuXYEo4v0zZ288NlMt6P8EkClAY=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c2 = CommentForm;\nexport default _c3 = withRouter(CommentForm);\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"CommentFormBlock\");\n$RefreshReg$(_c2, \"CommentForm\");\n$RefreshReg$(_c3, \"%default%\");","map":{"version":3,"names":["React","useState","styled","palette","useDispatch","useSelector","withRouter","writeComment","listComments","CommentFormBlock","form","gray","_c","CommentForm","_ref","_s","match","history","comment","setComment","dispatch","user","_ref2","postId","params","onSubmit","e","preventDefault","push","console","log","text","onChange","target","value","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","rows","type","_c2","_c3","$RefreshReg$"],"sources":["C:/react/git/react/blog-frontend/src/components/post/CommentForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { writeComment } from '../../lib/api/posts';\r\nimport { listComments } from '../../modules/post';\r\n\r\nconst CommentFormBlock = styled.form`\r\n  h4 {\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  textarea {\r\n    width: 100%;\r\n    padding: 1rem;\r\n    font-size: 1.125rem;\r\n    border: none;\r\n    border-bottom: 1px solid ${palette.gray[4]};\r\n    resize: none;\r\n    &:focus {\r\n      outline: none;\r\n      border-bottom: 1px solid ${palette.gray[6]};\r\n    }\r\n  }\r\n  button {\r\n    margin-top: 1rem;\r\n    float: right;\r\n  }\r\n`;\r\n\r\nconst CommentForm = ({ match, history }) => {\r\n  const [comment, setComment] = useState('');\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector(({ user }) => ({\r\n    user: user.user,\r\n  }));\r\n  const { postId } = match.params;\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!user) {\r\n      history.push('/login');\r\n      return;\r\n    }\r\n    try {\r\n        console.log(comment);\r\n\r\n      await writeComment({\r\n        postId,\r\n        text: comment,\r\n      });\r\n      setComment('');\r\n      dispatch(listComments(postId)); // 댓글 목록 불러오기\r\n      // TODO: 포스트 다시 불러오기\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    setComment(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <CommentFormBlock onSubmit={onSubmit}>\r\n      <h4>댓글 쓰기</h4>\r\n      <textarea\r\n        value={comment}\r\n        onChange={onChange}\r\n        placeholder=\"댓글을 작성하세요.\"\r\n        rows={4}\r\n      />\r\n      <button type=\"submit\">등록</button>\r\n    </CommentFormBlock>\r\n  );\r\n};\r\n\r\nexport default withRouter(CommentForm);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}