{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/react/git/react/blog-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import React,{useRef,useEffect}from'react';import Quill from'quill';import'quill/dist/quill.bubble.css';import styled from'styled-components';import palette from'../../lib/styles/palette';import Responsive from'../common/Responsive';var EditorBlock=styled(Responsive)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  /* \\uD398\\uC774\\uC9C0 \\uC704\\uC544\\uB798 \\uC5EC\\uBC31 \\uC9C0\\uC815 */\\n  padding-top: 5rem;\\n  padding-bottom: 5rem;\\n\"])));var TitleInput=styled.input(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  font-size: 3rem;\\n  outline: none;\\n  padding-bottom: 0.5rem;\\n  border: none;\\n  border-bottom: 1px solid \",\";\\n  margin-bottom: 2rem;\\n  width: 100%;\\n\"])),palette.gray[4]);var QuillWrapper=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  /* \\uCD5C\\uC18C \\uD06C\\uAE30 \\uC9C0\\uC815 \\uBC0F padding \\uC81C\\uAC70 */\\n  .ql-editor {\\n    padding: 0;\\n    min-height: 320px;\\n    font-size: 1.125rem;\\n    line-height: 1.5;\\n  }\\n  .ql-editor.ql-blank::before {\\n    left: 0px;\\n  }\\n\"])));var Editor=function Editor(_ref){var title=_ref.title,body=_ref.body,onChangeField=_ref.onChangeField;var quillElement=useRef(null);// Quill을 적용할 DivElement를 설정\nvar quillInstance=useRef(null);// Quill 인스턴스를 설정\nuseEffect(function(){quillInstance.current=new Quill(quillElement.current,{theme:'bubble',placeholder:'내용을 작성하세요...',modules:{// 더 많은 옵션\n// https://quilljs.com/docs/modules/toolbar/ 참고\ntoolbar:[[{header:'1'},{header:'2'}],['bold','italic','underline','strike'],[{list:'ordered'},{list:'bullet'}],['blockquote','code-block','link','image']]}});// quill에 text-change 이벤트 핸들러 등록\n// 참고: https://quilljs.com/docs/api/#events\nvar quill=quillInstance.current;quill.on('text-change',function(delta,oldDelta,source){if(source==='user'){onChangeField({key:'body',value:quill.root.innerHTML});}});},[onChangeField]);var mounted=useRef(false);useEffect(function(){if(mounted.current)return;mounted.current=true;quillInstance.current.root.innerHTML=body;},[body]);/*\r\n  useEffect(() => {\r\n    quillInstance.current.root.innerHTML = body;\r\n  }, []);  eslint-disable-line */var onChangeTitle=function onChangeTitle(e){onChangeField({key:'title',value:e.target.value});};return/*#__PURE__*/React.createElement(EditorBlock,null,/*#__PURE__*/React.createElement(TitleInput,{placeholder:\"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",onChange:onChangeTitle,value:title}),/*#__PURE__*/React.createElement(QuillWrapper,null,/*#__PURE__*/React.createElement(\"div\",{ref:quillElement})));};export default Editor;","map":{"version":3,"names":["React","useRef","useEffect","Quill","styled","palette","Responsive","EditorBlock","_templateObject","_taggedTemplateLiteral","TitleInput","input","_templateObject2","gray","QuillWrapper","div","_templateObject3","Editor","_ref","title","body","onChangeField","quillElement","quillInstance","current","theme","placeholder","modules","toolbar","header","list","quill","on","delta","oldDelta","source","key","value","root","innerHTML","mounted","onChangeTitle","e","target","createElement","onChange","ref"],"sources":["C:/react/git/react/blog-frontend/src/components/write/Editor.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\r\nimport Quill from 'quill';\r\nimport 'quill/dist/quill.bubble.css';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\nimport Responsive from '../common/Responsive';\r\n\r\nconst EditorBlock = styled(Responsive)`\r\n  /* 페이지 위아래 여백 지정 */\r\n  padding-top: 5rem;\r\n  padding-bottom: 5rem;\r\n`;\r\nconst TitleInput = styled.input`\r\n  font-size: 3rem;\r\n  outline: none;\r\n  padding-bottom: 0.5rem;\r\n  border: none;\r\n  border-bottom: 1px solid ${palette.gray[4]};\r\n  margin-bottom: 2rem;\r\n  width: 100%;\r\n`;\r\nconst QuillWrapper = styled.div`\r\n  /* 최소 크기 지정 및 padding 제거 */\r\n  .ql-editor {\r\n    padding: 0;\r\n    min-height: 320px;\r\n    font-size: 1.125rem;\r\n    line-height: 1.5;\r\n  }\r\n  .ql-editor.ql-blank::before {\r\n    left: 0px;\r\n  }\r\n`;\r\n\r\nconst Editor = ({ title, body, onChangeField }) => {\r\n  const quillElement = useRef(null); // Quill을 적용할 DivElement를 설정\r\n  const quillInstance = useRef(null); // Quill 인스턴스를 설정\r\n\r\n  useEffect(() => {\r\n    quillInstance.current = new Quill(quillElement.current, {\r\n      theme: 'bubble',\r\n      placeholder: '내용을 작성하세요...',\r\n      modules: {\r\n        // 더 많은 옵션\r\n        // https://quilljs.com/docs/modules/toolbar/ 참고\r\n        toolbar: [\r\n          [{ header: '1' }, { header: '2' }],\r\n          ['bold', 'italic', 'underline', 'strike'],\r\n          [{ list: 'ordered' }, { list: 'bullet' }],\r\n          ['blockquote', 'code-block', 'link', 'image'],\r\n        ],\r\n      },\r\n    });\r\n\r\n    // quill에 text-change 이벤트 핸들러 등록\r\n    // 참고: https://quilljs.com/docs/api/#events\r\n    const quill = quillInstance.current;\r\n    quill.on('text-change', (delta, oldDelta, source) => {\r\n      if (source === 'user') {\r\n        onChangeField({ key: 'body', value: quill.root.innerHTML });\r\n      }\r\n    });\r\n  }, [onChangeField]);\r\n\r\n  const mounted = useRef(false);\r\n  useEffect(() => {\r\n    if (mounted.current) return;\r\n    mounted.current = true;\r\n    quillInstance.current.root.innerHTML = body;\r\n  }, [body]);\r\n/*\r\n  useEffect(() => {\r\n    quillInstance.current.root.innerHTML = body;\r\n  }, []);  eslint-disable-line */\r\n\r\n  const onChangeTitle = e => {\r\n    onChangeField({ key: 'title', value: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <EditorBlock>\r\n      <TitleInput\r\n        placeholder=\"제목을 입력하세요\"\r\n        onChange={onChangeTitle}\r\n        value={title}\r\n      />\r\n      <QuillWrapper>\r\n        <div ref={quillElement} />\r\n      </QuillWrapper>\r\n    </EditorBlock>\r\n  );\r\n};\r\n\r\nexport default Editor;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}